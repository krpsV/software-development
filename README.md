# Jabber - Java Socket Communication System

## 概要
JabberはJavaベースのクライアント・サーバー型ソケット通信システムです。TCPプロトコルを使用してクライアントとサーバー間でメッセージのやり取りを行います。

## 外部設計

### システム構成
```
[JabberClient] ←─TCP/IP─→ [JabberServer]
     ポート指定          指定ポートでリッスン
```

### 主要コンポーネント

#### JabberServer
- **役割**: TCPサーバーとして動作し、クライアントからの接続を待ち受け
- **機能**: 
  - 指定ポートでクライアント接続を受け付け
  - 受信したメッセージをエコーバック
  - "END"コマンドで接続終了
- **インターフェース**:
  - 起動: `java -cp bin JabberServer [ポート番号]`
  - デフォルトポート: 8080

#### JabberClient  
- **役割**: TCPクライアントとしてサーバーに接続
- **機能**:
  - サーバーへの接続確立
  - テストメッセージの送信（"howdy 0"〜"howdy 9"）
  - サーバーからの応答受信
- **インターフェース**:
  - 起動: `java -cp bin JabberClient [ポート番号]`

### 通信プロトコル
1. **接続フェーズ**: クライアントがサーバーの指定ポートに接続
2. **データ交換フェーズ**: 
   - クライアント→サーバー: テキストメッセージ送信
   - サーバー→クライアント: 受信メッセージをエコーバック
3. **終了フェーズ**: クライアントが"END"コマンドを送信して接続終了

### 開発環境
- **言語**: Java
- **ビルドツール**: javac
- **実行環境**: tmuxを使用したデュアルペイン開発環境
- **起動スクリプト**: `./run.sh`で自動的にサーバー・クライアント環境を構築

## 使用方法

### 1. 自動起動（推奨）
```bash
# デフォルトポート(9000)で起動
./run.sh

# カスタムポートで起動
./run.sh 8080
```

### 2. 手動起動
```bash
# コンパイル
javac -d bin src/*.java

# サーバー起動（別ターミナル）
java -cp bin JabberServer 9000

# クライアント起動
java -cp bin JabberClient 9000
```